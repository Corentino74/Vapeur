// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// Modèle de ressource "Jeux Vidéo"
model JeuVideo {
  id          Int      @id @default(autoincrement()) @unique
  titre       String
  description String
  releaseDate DateTime //now() est une fonction de prisma qui permet de définir la date actuelle
  genre       Genre   @relation(fields: [genreId], references: [id]) // Genre est une autre ressource
  genreId     Int
  editeur     Editeur @relation(fields: [editeurId], references: [id]) // Editeur est une autre ressource
  editeurId   Int
  mis_avant   Boolean  @default(false) // Par défaut, un jeu n'est pas mis en avant
}

// Modèle de ressource "Genre"
model Genre {
  id          Int      @id @default(autoincrement()) @unique
  nom             String     // Parmis la liste : Action, Aventure, RPG, Simulation, Sport, MMORPG ! Attention : Les genres de jeux sont déjà définis dans la base de données. Au démarrage du serveur, s'il n'existent pas, ils sont créés en base de données AVANT qu'on puisse accéder à l'app via le navigateur.
  jeux_associés   JeuVideo[] // Relation avec les jeux vidéo
}

// Modèle de ressource "Editeur"
model Editeur {
  id          Int      @id @default(autoincrement()) @unique
  nom             String                // Nom de l'éditeur
  jeux_publies    JeuVideo[]            // Relation avec les jeux vidéo
}