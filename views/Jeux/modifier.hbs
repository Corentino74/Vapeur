<main>
    <div class="content-header">
        <h1>Modifier "{{jeu.titre}}"</h1>
        <a href="/jeux/{{jeu.id}}" class="btn btn-secondary">Retour au jeu</a>
    </div>

    <form method="POST" action="/jeux/modifier/{{jeu.id}}" class="game-form">
        {{formField type="text" id="titre" name="titre" label="Titre du jeu" value=jeu.titre required=true}}
        {{formField type="textarea" id="description" name="description" label="Description" value=jeu.description rows="4"}}
        {{formField type="date" id="releaseDate" name="releaseDate" label="Date de sortie" value=(formatDate jeu.releaseDate)}}
        
        <div class="form-group">
            <label for="editeurId">Éditeur</label>
            <select id="editeurId" name="editeurId" class="form-control">
                <option value="">Sélectionnez un éditeur (optionnel)</option>
                {{#each editeurs}}
                    <option value="{{id}}" {{#if (eq id ../jeu.editeurId)}}selected{{/if}}>{{nom}}</option>
                {{/each}}
            </select>
        </div>

        <div class="form-group">
            <label>Genres</label>
            <div class="checkbox-group">
                {{#each genres}}
                    <label class="checkbox-label">
                        <input type="checkbox" name="genreIds" value="{{id}}" {{#if (isGenreSelected ../jeu.genres id)}}checked{{/if}}>
                        {{nom}}
                    </label>
                {{/each}}
            </div>
        </div>
        
        {{formField type="url" id="image" name="image" label="URL de l'image" value=jeu.image placeholder="https://exemple.com/image.jpg"}}
        
        <div class="form-group">
            <label class="checkbox-label">
                <input type="checkbox" name="mis_avant" {{#if jeu.mis_avant}}checked{{/if}}>
                Mettre en avant ce jeu
            </label>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Modifier le jeu</button>
            <a href="/jeux/{{jeu.id}}" class="btn btn-secondary">Annuler</a>
        </div>
    </form>
</main>